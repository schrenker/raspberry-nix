argo-cd:
  configs:
    cm:
      create: true
      admin:
        enabled: true
      # https://docs.cilium.io/en/latest/configuration/argocd-issues/
      resource.exclusions: |
        - apiGroups:
          - cilium.io
          kinds:
          - CiliumIdentity
          clusters:
          - "*"


  controller:
    replicas: 1
    resources:
      limits:
        memory: 512Mi
      requests:
        cpu: 100m
        memory: 512Mi

  server:
    replicas: 1
    resources:
      limits:
        memory: 128Mi
      requests:
        cpu: 100m
        memory: 128Mi
    configEnabled: true
    config:
      repositories: |
        - type: git
          url: https://github.com/schrenker/raspberry-nix.git
        - name: argo-helm
          type: helm
          url: https://argoproj.github.io/argo-helm
    additionalApplications:
      - name: applications
        namespace: argocd
        destination:
          namespace: argocd
          server: https://kubernetes.default.svc
        project: argocd
        source:
          path: workloads/applications
          repoURL: https://github.com/schrenker/raspberry-nix.git
          targetRevision: HEAD
          directory:
            recurse: true
            jsonnet: {}
        syncPolicy:
          automated:
            selfHeal: true
            prune: true

  repoServer:
    replicas: 1
    resources:
      limits:
        memory: 128Mi
      requests:
        cpu: 10m
        memory: 128Mi

  applicationSet:
    replicas: 1
    resources:
      limits:
        memory: 128Mi
      requests:
        cpu: 100m
        memory: 128Mi

  redis:
    enabled: true
    resources:
     limits:
       memory: 64Mi
     requests:
       cpu: 100m
       memory: 64Mi

  redis-ha:
    enabled: false

  notifications:
    enabled: false

  dex:
    enabled: false
